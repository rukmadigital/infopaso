const infoData = [
    {
        pasoName : "Cuarentena",
        pasoUrl : "img/state/c-paso-1.svg",
        pasoClass : "paso1",
        pasoId : "1",
        servicios:[
          {
            categoria: "Escenciales",
            name: "Farmacias",
            url: "farmacia",
            detalle: ""
          },
          {     
            categoria: "",
            name: "Supermercados",
            url: "supermercado",
            detalle: ""
          },
          {    
            categoria: "",                      
            name: "Abastecimiento",
            url: "negocio",
            detalle: "De alimentos y productos básicos"
          },
          {    
            categoria: "",
            name: "Centros de salud",
            url: "salud",
            detalle: ""
          },
          {    
            categoria: "",     
            name: "Establecimientos de servicio público",
            url: "serviciopublico",
            detalle: ""
          },
        ],
        pasoAlerta : "Todo siguiendo los protocolos establecidos.",
    },
    {
        pasoName : "Transición",
        pasoUrl : "img/state/c-paso-2.svg",
        pasoClass : "paso2",
        pasoId : "2",
        servicios:[
          {
            categoria: "Escenciales",
            name: "Farmacias",
            url: "farmacia",
            detalle: ""
          },
          {     
            categoria: "",
            name: "Supermercados",
            url: "supermercado",
            detalle: ""
          },
          {    
            categoria: "",                      
            name: "Abastecimiento",
            url: "negocio",
            detalle: "De alimentos y productos básicos"
          },
          {    
            categoria: "",
            name: "Centros de salud",
            url: "salud",
            detalle: ""
          },
          {    
            categoria: "",     
            name: "Establecimientos de servicio público",
            url: "serviciopublico",
            detalle: ""
          },
          {
            categoria: "No Escencial",
            name: "Comercios",
            url: "comercio",
            detalle: "No Escencial"
         },
        ],
        pasoAlerta : "Todo lo que funcione, debe ser siguiendo los protocolos establecidos.",
    },
    {
        pasoName : "Preparación",
        pasoUrl : "img/state/c-paso-3.svg",
        pasoClass : "paso3",
        pasoId : "3",
        servicios:[
          {
            categoria: "Escenciales",
            name: "Farmacias",
            url: "farmacia",
            detalle: ""
          },
          {     
            categoria: "",
            name: "Supermercados",
            url: "supermercado",
            detalle: ""
          },
          {    
            categoria: "",                      
            name: "Abastecimiento",
            url: "negocio",
            detalle: "De alimentos y productos básicos"
          },
          {    
            categoria: "",
            name: "Centros de salud",
            url: "salud",
            detalle: ""
          },
          {    
            categoria: "",     
            name: "Establecimientos de servicio público",
            url: "serviciopublico",
            detalle: ""
          },
          {
            categoria: "No Escencial",
            name: "Comercios",
            url: "comercio",
            detalle: "No Escencial"
          },
          {                    
            categoria: "Atención al público",        
            name: "Atención de público en restaurantes",
            url: "atencion",
            detalle: ""
         },
        ],
        pasoAlerta : "Todo lo que funcione, debe ser siguiendo los protocolos establecidos.",
    },
    {
        pasoName : "Apertura Inicial",
        pasoUrl : "img/state/c-paso-4.svg",
        pasoClass : "paso4",
        pasoId : "4",
        servicios:[
          {
            categoria: "Escenciales",
            name: "Farmacias",
            url: "farmacia",
            detalle: ""
          },
          {     
            categoria: "",
            name: "Supermercados",
            url: "supermercado",
            detalle: ""
          },
          {    
            categoria: "",                      
            name: "Abastecimiento",
            url: "negocio",
            detalle: "De alimentos y productos básicos"
          },
          {    
            categoria: "",
            name: "Centros de salud",
            url: "salud",
            detalle: ""
          },
          {    
            categoria: "",     
            name: "Establecimientos de servicio público",
            url: "serviciopublico",
            detalle: ""
          },
          {
            categoria: "No Escencial",
            name: "Comercios",
            url: "comercio",
            detalle: "No Escencial"
          },
          {                    
            categoria: "Atención al público",        
            name: "Atención de público en restaurantes",
            url: "atencion",
            detalle: ""
          },
          {   
            categoria: "Deporte",                               
            name: "Pubs y Dicotecas",
            url: "pub",
            detalle: ""
          },
          {              
            categoria: "Entretenimiento",                               
            name: "Teatro",
            url: "teatro",
            detalle: "Máximo de asistencia de 50% de su capacidad, con distancia entre personas de al menos 1 m y sin consumo de bebidas ni alimentos."
          },
          {    
            categoria: "",                                         
            name: "Cine",
            url: "cine",
            detalle: "Máximo de asistencia de 50% de su capacidad, con distancia entre personas de al menos 1 m y sin consumo de bebidas ni alimentos."
          },
          {    
            categoria: "",                                         
            name: "Restaurantes",
            url: "restaurantes",
            detalle: "Máximo de asistencia de 50% de su capacidad, con distancia entre personas de al menos 1 m y sin consumo de bebidas ni alimentos."
          },
          {     
            categoria: "Educación",                     
            name: "Plan Mineduc de regreso gradual",
            url: "estudio",                
            detalle: "Clases presenciales en establecimientos educacionales, habiendo cumplido las condiciones sanitarias"
          },
          {                      
            categoria: "Adultos Mayores",
            name: "Clubes y Centro Adultos Mayores",
            url: "club",         
            detalle: ""
          },
        ],
        pasoAlerta : "Todo lo que funcione, debe ser siguiendo los protocolos establecidos.",
    },
    {
        pasoName : "Apertura Avanzada",
        pasoUrl : "img/state/c-paso-5.svg",
        pasoClass : "paso5",
        pasoId : "5",
        servicios:[
          {
            categoria: "Escenciales",
            name: "Farmacias",
            url: "farmacia",
            detalle: ""
          },
          {     
            categoria: "",
            name: "Supermercados",
            url: "supermercado",
            detalle: ""
          },
          {    
            categoria: "",                      
            name: "Abastecimiento",
            url: "negocio",
            detalle: "De alimentos y productos básicos"
          },
          {    
            categoria: "",
            name: "Centros de salud",
            url: "salud",
            detalle: ""
          },
          {    
            categoria: "",     
            name: "Establecimientos de servicio público",
            url: "serviciopublico",
            detalle: ""
          },
          {
            categoria: "No Escencial",
            name: "Comercios",
            url: "comercio",
            detalle: "No Escencial"
          },
          {                    
            categoria: "Atención al público",        
            name: "Atención de público en restaurantes",
            url: "atencion",
            detalle: ""
          },
          {   
            categoria: "Deporte",                               
            name: "Pubs y Dicotecas",
            url: "pub",
            detalle: ""
          },
          {   
            categoria: "",                                          
            name: "Restaurantes",
            url: "restaurantes",                
            detalle: ""
          },
          {   
            categoria: "",                                          
            name: "Cafe",
            url: "cafe",                
            detalle: ""
          }, 
          {              
            categoria: "Entretenimiento",                               
            name: "Teatro",
            url: "teatro",
            detalle: "Máximo de asistencia de 75% de su capacidad."
          },
          {    
            categoria: "",                                         
            name: "Cine",
            url: "cine",
            detalle: "Máximo de asistencia de 75% de su capacidad."
          },
          {    
            categoria: "",                                         
            name: "Restaurantes",
            url: "restaurantes",
            detalle: "Máximo de asistencia de 75% de su capacidad."
          },
          {     
            categoria: "Educación",                     
            name: "Plan Mineduc de regreso gradual",
            url: "estudio",                
            "detalles": "A clases presenciales en establecimientos educacionales."
          },
          {     
            categoria: "Visitas",                     
            name: "Visitas al Centro ELEAM y SENAME",
            url: "sename",                
            detalle: ""
          },
          {                      
            "categorias": "Adultos Mayores",
            name: "Clubes y Centro Adultos Mayores",
            url: "club",         
            detalle: ""
          },
        ],
        pasoAlerta : "Todo lo que funcione, debe ser siguiendo los protocolos establecidos.",
    },
];

function servicios(servicios){
    return `
  
    ${servicios.map(function(servicio) {
            return ` 
            <div class="boxInfo">
              <p class="subtitle categoriaCarFun">
                  ${servicio.categoria}
              </p>
              <div class="cardFun">
                  <div class="grid-container">
                      <div class="imgFun">
                          <img src="img/funcionan/${servicio.url}.svg" alt="">
                      </div>
                      <div class="titleFun">
                          <p class="parrafo">
                              ${servicio.name}
                          </p>
                          <p class="parrafoCategoria">
                              ${servicio.detalle}
                          </p>
                      </div>
                </div>
            </div>
  
          </div>
        `
    }).join('')}
    `
  }
  
  function headerTemplate(info){
    return `  
    <div class="modal right fade" id="${info.pasoId}"" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header ${info.pasoClass}">
        <div class="grid-container">
          <div class="volver">
            <button type="button" class="close" data-dismiss="modal">
              <i class="fa fa-angle-left" aria-hidden="true"></i> Volver
            </button>
          </div>
          <div class="nameStep">
            <p class="dataSeg">Etapa de</p>
            <p class="dataName">${info.pasoName}</p>
          </div>
          <div class="imgStep">
            <img src="${info.pasoUrl}" alt="">
          </div>
        </div>
      </div>
      <div class="modal-body">
        <div class="boxinteres">
          <p class="title">Acceso Directo</p>
          <hr>
          <ul>
              <li>
                  <a href="https://comisariavirtual.cl/" target="_blank">
                      Ir a Comisaria Virtual<i class="fa fa-angle-right" aria-hidden="true"></i>
                  </a>
              </li>
          </ul>
        </div>
        <div class="funcionan">
          <div class="row">
            <div class="col-lg-12">
              <p class="title">
                ¿Qué funciona en mi comuna?
              </p>
              <p class="parrafo">
                Revisa lo que esta funcionando hoy
              </p>
  
            </div>
            <br>
            <div class="col-lg-12 groupCatergoria">
                ${info.servicios ? servicios(info.servicios) : ''}
              <!-- 
              <div class="cardFun">
                <div class="grid-container">
                  <div class="imgFun">
                      <img src="img/funcionan/farmacia.svg" alt="">
                  </div>
                  <div class="titleFun">
                    <p class="parrafo">
                    Farmacia
                    </p>
                  </div>
                </div>
              </div>
              -->
            </div>
            <div class="col-lg-12">
              <br>
              <div class="cardFun alertaEtapa">
                <div class="grid-container">
                  <div class="imgFun">
                      <img src="img/funcionan/alerta.svg" alt="">
                  </div>
                  <div class="titleFun">
                    <p class="parrafo">
                    ${info.pasoAlerta}
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    </div>
  </div>
  `
  }
  
  document.getElementById("modalesEtapas").innerHTML = `
  ${infoData.map(headerTemplate).join('')}
  `  